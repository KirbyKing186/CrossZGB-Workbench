                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module Sprite
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _SpriteManagerRemoveSprite
                                     11 	.globl _GetSpriteAnimation
                                     12 	.globl _InitSprite
                                     13 	.globl _SetSpriteAnim
                                     14 	.globl _DrawSprite
                                     15 	.globl _CheckCollision
                                     16 ;--------------------------------------------------------
                                     17 ; special function registers
                                     18 ;--------------------------------------------------------
                                     19 	.area _HRAM
                                     20 ;--------------------------------------------------------
                                     21 ; ram data
                                     22 ;--------------------------------------------------------
                                     23 	.area _DATA
    00000000                         24 _DrawSprite_screen_x_10000_284:
    00000000                         25 	.ds 2
    00000002                         26 _DrawSprite_screen_y_10000_284:
    00000002                         27 	.ds 2
                                     28 ;--------------------------------------------------------
                                     29 ; ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _INITIALIZED
                                     32 ;--------------------------------------------------------
                                     33 ; absolute external ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area _DABS (ABS)
                                     36 ;--------------------------------------------------------
                                     37 ; global & static initialisations
                                     38 ;--------------------------------------------------------
                                     39 	.area _HOME
                                     40 	.area _GSINIT
                                     41 	.area _GSFINAL
                                     42 	.area _GSINIT
                                     43 ;--------------------------------------------------------
                                     44 ; Home
                                     45 ;--------------------------------------------------------
                                     46 	.area _HOME
                                     47 	.area _HOME
                                     48 ;--------------------------------------------------------
                                     49 ; code
                                     50 ;--------------------------------------------------------
                                     51 	.area _CODE
                                     52 ;C:/CrossZGB/ZGB/common/src/Sprite.c:19: void InitSprite(Sprite* sprite, UINT8 sprite_type) {
                                     53 ;	---------------------------------
                                     54 ; Function InitSprite
                                     55 ; ---------------------------------
    00000000                         56 _InitSprite::
    00000000 E8 F7            [16]   57 	add	sp, #-9
    00000002 F8 07            [12]   58 	ldhl	sp,	#7
    00000004 73               [ 8]   59 	ld	(hl), e
    00000005 23               [ 8]   60 	inc	hl
    00000006 72               [ 8]   61 	ld	(hl), d
    00000007 4F               [ 4]   62 	ld	c, a
                                     63 ;C:/CrossZGB/ZGB/common/src/Sprite.c:20: const struct MetaSpriteInfo* mt_sprite_info = spriteDatas[sprite_type];
    00000008 11r00r00         [12]   64 	ld	de, #_spriteDatas+0
    0000000B 69               [ 4]   65 	ld	l, c
    0000000C AF               [ 4]   66 	xor	a, a
    0000000D 67               [ 4]   67 	ld	h, a
    0000000E 29               [ 8]   68 	add	hl, hl
    0000000F 19               [ 8]   69 	add	hl, de
    00000010 5D               [ 4]   70 	ld	e, l
    00000011 54               [ 4]   71 	ld	d, h
    00000012 1A               [ 8]   72 	ld	a, (de)
    00000013 F8 02            [12]   73 	ldhl	sp,	#2
    00000015 22               [ 8]   74 	ld	(hl+), a
    00000016 13               [ 8]   75 	inc	de
    00000017 1A               [ 8]   76 	ld	a, (de)
    00000018 77               [ 8]   77 	ld	(hl), a
                                     78 ;C:/CrossZGB/ZGB/common/src/Sprite.c:22: sprite->mt_sprite_info = mt_sprite_info;
    00000019 F8 07            [12]   79 	ldhl	sp,#7
    0000001B 2A               [ 8]   80 	ld	a, (hl+)
    0000001C 5F               [ 4]   81 	ld	e, a
    0000001D 56               [ 8]   82 	ld	d, (hl)
    0000001E 21 07 00         [12]   83 	ld	hl, #0x0007
    00000021 19               [ 8]   84 	add	hl, de
    00000022 5D               [ 4]   85 	ld	e, l
    00000023 54               [ 4]   86 	ld	d, h
    00000024 F8 02            [12]   87 	ldhl	sp,	#2
    00000026 2A               [ 8]   88 	ld	a, (hl+)
    00000027 12               [ 8]   89 	ld	(de), a
    00000028 13               [ 8]   90 	inc	de
    00000029 7E               [ 8]   91 	ld	a, (hl)
    0000002A 12               [ 8]   92 	ld	(de), a
                                     93 ;C:/CrossZGB/ZGB/common/src/Sprite.c:23: sprite->mt_sprite_bank = spriteDataBanks[sprite_type];
    0000002B F8 07            [12]   94 	ldhl	sp,#7
    0000002D 2A               [ 8]   95 	ld	a, (hl+)
    0000002E 5F               [ 4]   96 	ld	e, a
    0000002F 56               [ 8]   97 	ld	d, (hl)
    00000030 21 06 00         [12]   98 	ld	hl, #0x0006
    00000033 19               [ 8]   99 	add	hl, de
    00000034 33               [ 8]  100 	inc	sp
    00000035 33               [ 8]  101 	inc	sp
    00000036 E5               [16]  102 	push	hl
    00000037 11r00r00         [12]  103 	ld	de, #_spriteDataBanks
    0000003A 69               [ 4]  104 	ld	l, c
    0000003B 26 00            [ 8]  105 	ld	h, #0x00
    0000003D 19               [ 8]  106 	add	hl, de
    0000003E E5               [16]  107 	push	hl
    0000003F 7D               [ 4]  108 	ld	a, l
    00000040 F8 06            [12]  109 	ldhl	sp,	#6
    00000042 77               [ 8]  110 	ld	(hl), a
    00000043 E1               [12]  111 	pop	hl
    00000044 7C               [ 4]  112 	ld	a, h
    00000045 F8 05            [12]  113 	ldhl	sp,	#5
    00000047 32               [ 8]  114 	ld	(hl-), a
    00000048 2A               [ 8]  115 	ld	a, (hl+)
    00000049 5F               [ 4]  116 	ld	e, a
    0000004A 56               [ 8]  117 	ld	d, (hl)
    0000004B 1A               [ 8]  118 	ld	a, (de)
    0000004C E1               [12]  119 	pop	hl
    0000004D E5               [16]  120 	push	hl
    0000004E 77               [ 8]  121 	ld	(hl), a
                                    122 ;C:/CrossZGB/ZGB/common/src/Sprite.c:25: sprite->flips = spriteFlips[sprite_type];
    0000004F F8 07            [12]  123 	ldhl	sp,#7
    00000051 2A               [ 8]  124 	ld	a, (hl+)
    00000052 5F               [ 4]  125 	ld	e, a
    00000053 56               [ 8]  126 	ld	d, (hl)
    00000054 21 09 00         [12]  127 	ld	hl, #0x0009
    00000057 19               [ 8]  128 	add	hl, de
    00000058 5D               [ 4]  129 	ld	e, l
    00000059 54               [ 4]  130 	ld	d, h
    0000005A 21r00r00         [12]  131 	ld	hl, #_spriteFlips
    0000005D 06 00            [ 8]  132 	ld	b, #0x00
    0000005F 09               [ 8]  133 	add	hl, bc
    00000060 7E               [ 8]  134 	ld	a, (hl)
    00000061 12               [ 8]  135 	ld	(de), a
                                    136 ;C:/CrossZGB/ZGB/common/src/Sprite.c:26: sprite->first_tile = spriteIdxs[sprite_type];
    00000062 F8 07            [12]  137 	ldhl	sp,#7
    00000064 2A               [ 8]  138 	ld	a, (hl+)
    00000065 5F               [ 4]  139 	ld	e, a
    00000066 56               [ 8]  140 	ld	d, (hl)
    00000067 21 0A 00         [12]  141 	ld	hl, #0x000a
    0000006A 19               [ 8]  142 	add	hl, de
    0000006B 5D               [ 4]  143 	ld	e, l
    0000006C 54               [ 4]  144 	ld	d, h
    0000006D 21r00r00         [12]  145 	ld	hl, #_spriteIdxs
    00000070 06 00            [ 8]  146 	ld	b, #0x00
    00000072 09               [ 8]  147 	add	hl, bc
    00000073 7E               [ 8]  148 	ld	a, (hl)
    00000074 12               [ 8]  149 	ld	(de), a
                                    150 ;C:/CrossZGB/ZGB/common/src/Sprite.c:27: sprite->first_tile_H = spriteIdxsH[sprite_type];
    00000075 F8 07            [12]  151 	ldhl	sp,#7
    00000077 2A               [ 8]  152 	ld	a, (hl+)
    00000078 5F               [ 4]  153 	ld	e, a
    00000079 56               [ 8]  154 	ld	d, (hl)
    0000007A 21 0B 00         [12]  155 	ld	hl, #0x000b
    0000007D 19               [ 8]  156 	add	hl, de
    0000007E 5D               [ 4]  157 	ld	e, l
    0000007F 54               [ 4]  158 	ld	d, h
    00000080 21r00r00         [12]  159 	ld	hl, #_spriteIdxsH
    00000083 06 00            [ 8]  160 	ld	b, #0x00
    00000085 09               [ 8]  161 	add	hl, bc
    00000086 7E               [ 8]  162 	ld	a, (hl)
    00000087 12               [ 8]  163 	ld	(de), a
                                    164 ;C:/CrossZGB/ZGB/common/src/Sprite.c:28: sprite->first_tile_V = spriteIdxsV[sprite_type];
    00000088 F8 07            [12]  165 	ldhl	sp,#7
    0000008A 2A               [ 8]  166 	ld	a, (hl+)
    0000008B 5F               [ 4]  167 	ld	e, a
    0000008C 56               [ 8]  168 	ld	d, (hl)
    0000008D 21 0C 00         [12]  169 	ld	hl, #0x000c
    00000090 19               [ 8]  170 	add	hl, de
    00000091 5D               [ 4]  171 	ld	e, l
    00000092 54               [ 4]  172 	ld	d, h
    00000093 21r00r00         [12]  173 	ld	hl, #_spriteIdxsV
    00000096 06 00            [ 8]  174 	ld	b, #0x00
    00000098 09               [ 8]  175 	add	hl, bc
    00000099 7E               [ 8]  176 	ld	a, (hl)
    0000009A 12               [ 8]  177 	ld	(de), a
                                    178 ;C:/CrossZGB/ZGB/common/src/Sprite.c:29: sprite->first_tile_HV = spriteIdxsHV[sprite_type];
    0000009B F8 07            [12]  179 	ldhl	sp,#7
    0000009D 2A               [ 8]  180 	ld	a, (hl+)
    0000009E 5F               [ 4]  181 	ld	e, a
    0000009F 56               [ 8]  182 	ld	d, (hl)
    000000A0 21 0D 00         [12]  183 	ld	hl, #0x000d
    000000A3 19               [ 8]  184 	add	hl, de
    000000A4 5D               [ 4]  185 	ld	e, l
    000000A5 54               [ 4]  186 	ld	d, h
    000000A6 21r00r00         [12]  187 	ld	hl, #_spriteIdxsHV
    000000A9 06 00            [ 8]  188 	ld	b, #0x00
    000000AB 09               [ 8]  189 	add	hl, bc
    000000AC 7E               [ 8]  190 	ld	a, (hl)
    000000AD 12               [ 8]  191 	ld	(de), a
                                    192 ;C:/CrossZGB/ZGB/common/src/Sprite.c:31: sprite->attr_add = (_cpu == CGB_TYPE) ? spritePalsOffset[sprite_type] : 0;
    000000AE F8 07            [12]  193 	ldhl	sp,#7
    000000B0 2A               [ 8]  194 	ld	a, (hl+)
    000000B1 5F               [ 4]  195 	ld	e, a
    000000B2 56               [ 8]  196 	ld	d, (hl)
    000000B3 21 0E 00         [12]  197 	ld	hl, #0x000e
    000000B6 19               [ 8]  198 	add	hl, de
    000000B7 5D               [ 4]  199 	ld	e, l
    000000B8 54               [ 4]  200 	ld	d, h
    000000B9 FAr00r00         [16]  201 	ld	a, (#__cpu)
    000000BC D6 11            [ 8]  202 	sub	a, #0x11
    000000BE 20 09            [12]  203 	jr	NZ, 00107$
    000000C0 21r00r00         [12]  204 	ld	hl, #_spritePalsOffset
    000000C3 06 00            [ 8]  205 	ld	b, #0x00
    000000C5 09               [ 8]  206 	add	hl, bc
    000000C6 7E               [ 8]  207 	ld	a, (hl)
    000000C7 18 01            [12]  208 	jr	00108$
    000000C9                        209 00107$:
    000000C9 AF               [ 4]  210 	xor	a, a
    000000CA                        211 00108$:
    000000CA 12               [ 8]  212 	ld	(de), a
                                    213 ;C:/CrossZGB/ZGB/common/src/Sprite.c:36: sprite->anim_data = NULL;	
    000000CB F8 07            [12]  214 	ldhl	sp,#7
    000000CD 2A               [ 8]  215 	ld	a, (hl+)
    000000CE 5F               [ 4]  216 	ld	e, a
    000000CF 56               [ 8]  217 	ld	d, (hl)
    000000D0 21 0F 00         [12]  218 	ld	hl, #0x000f
    000000D3 19               [ 8]  219 	add	hl, de
    000000D4 4D               [ 4]  220 	ld	c, l
    000000D5 44               [ 4]  221 	ld	b, h
    000000D6 AF               [ 4]  222 	xor	a, a
    000000D7 02               [ 8]  223 	ld	(bc), a
    000000D8 03               [ 8]  224 	inc	bc
    000000D9 02               [ 8]  225 	ld	(bc), a
                                    226 ;C:/CrossZGB/ZGB/common/src/Sprite.c:37: sprite->anim_speed = 33u;
    000000DA F8 07            [12]  227 	ldhl	sp,#7
    000000DC 2A               [ 8]  228 	ld	a, (hl+)
    000000DD 5F               [ 4]  229 	ld	e, a
    000000DE 56               [ 8]  230 	ld	d, (hl)
    000000DF 21 12 00         [12]  231 	ld	hl, #0x0012
    000000E2 19               [ 8]  232 	add	hl, de
    000000E3 36 21            [12]  233 	ld	(hl), #0x21
                                    234 ;C:/CrossZGB/ZGB/common/include/Sprite.h:81: sprite->mt_sprite = GetSpriteAnimation(sprite, frame);
    000000E5 F8 07            [12]  235 	ldhl	sp,#7
    000000E7 2A               [ 8]  236 	ld	a, (hl+)
    000000E8 5F               [ 4]  237 	ld	e, a
    000000E9 56               [ 8]  238 	ld	d, (hl)
    000000EA 21 14 00         [12]  239 	ld	hl, #0x0014
    000000ED 19               [ 8]  240 	add	hl, de
    000000EE E5               [16]  241 	push	hl
    000000EF 01 00 00         [12]  242 	ld	bc, #0x0000
    000000F2 F8 09            [12]  243 	ldhl	sp,	#9
    000000F4 2A               [ 8]  244 	ld	a, (hl+)
    000000F5 5F               [ 4]  245 	ld	e, a
    000000F6 56               [ 8]  246 	ld	d, (hl)
    000000F7 CDr00r00         [24]  247 	call	_GetSpriteAnimation
    000000FA D1               [12]  248 	pop	de
    000000FB 79               [ 4]  249 	ld	a, c
    000000FC 12               [ 8]  250 	ld	(de), a
    000000FD 13               [ 8]  251 	inc	de
    000000FE 78               [ 4]  252 	ld	a, b
    000000FF 12               [ 8]  253 	ld	(de), a
                                    254 ;C:/CrossZGB/ZGB/common/include/Sprite.h:82: sprite->anim_frame = frame;
    00000100 F8 07            [12]  255 	ldhl	sp,#7
    00000102 2A               [ 8]  256 	ld	a, (hl+)
    00000103 5F               [ 4]  257 	ld	e, a
    00000104 56               [ 8]  258 	ld	d, (hl)
    00000105 21 13 00         [12]  259 	ld	hl, #0x0013
    00000108 19               [ 8]  260 	add	hl, de
    00000109 4D               [ 4]  261 	ld	c, l
    0000010A 44               [ 4]  262 	ld	b, h
    0000010B AF               [ 4]  263 	xor	a, a
    0000010C 02               [ 8]  264 	ld	(bc), a
                                    265 ;C:/CrossZGB/ZGB/common/src/Sprite.c:41: sprite->ctx = NULL;
    0000010D F8 07            [12]  266 	ldhl	sp,#7
    0000010F 2A               [ 8]  267 	ld	a, (hl+)
    00000110 5F               [ 4]  268 	ld	e, a
    00000111 56               [ 8]  269 	ld	d, (hl)
    00000112 21 17 00         [12]  270 	ld	hl, #0x0017
    00000115 19               [ 8]  271 	add	hl, de
    00000116 4D               [ 4]  272 	ld	c, l
    00000117 44               [ 4]  273 	ld	b, h
    00000118 AF               [ 4]  274 	xor	a, a
    00000119 02               [ 8]  275 	ld	(bc), a
    0000011A 03               [ 8]  276 	inc	bc
    0000011B 02               [ 8]  277 	ld	(bc), a
                                    278 ;C:/CrossZGB/ZGB/common/src/Sprite.c:43: sprite->x = 0;
    0000011C F8 07            [12]  279 	ldhl	sp,	#7
    0000011E 2A               [ 8]  280 	ld	a, (hl+)
    0000011F 66               [ 8]  281 	ld	h, (hl)
    00000120 6F               [ 4]  282 	ld	l, a
    00000121 AF               [ 4]  283 	xor	a, a
    00000122 22               [ 8]  284 	ld	(hl+), a
    00000123 77               [ 8]  285 	ld	(hl), a
                                    286 ;C:/CrossZGB/ZGB/common/src/Sprite.c:44: sprite->y = 0;
    00000124 F8 07            [12]  287 	ldhl	sp,	#7
    00000126 2A               [ 8]  288 	ld	a, (hl+)
    00000127 4F               [ 4]  289 	ld	c, a
                                    290 ;C:/CrossZGB/ZGB/common/src/Sprite.c:46: sprite->coll_group = COLL_GROUP_DEFAULT;
    00000128 3A               [ 8]  291 	ld	a, (hl-)
    00000129 47               [ 4]  292 	ld	b, a
    0000012A 03               [ 8]  293 	inc	bc
    0000012B 03               [ 8]  294 	inc	bc
    0000012C AF               [ 4]  295 	xor	a, a
    0000012D 02               [ 8]  296 	ld	(bc), a
    0000012E 03               [ 8]  297 	inc	bc
    0000012F 02               [ 8]  298 	ld	(bc), a
    00000130 2A               [ 8]  299 	ld	a, (hl+)
    00000131 5F               [ 4]  300 	ld	e, a
    00000132 56               [ 8]  301 	ld	d, (hl)
    00000133 21 22 00         [12]  302 	ld	hl, #0x0022
    00000136 19               [ 8]  303 	add	hl, de
    00000137 36 01            [12]  304 	ld	(hl), #0x01
                                    305 ;C:/CrossZGB/ZGB/common/src/Sprite.c:47: sprite->coll_group_down = COLL_GROUP_DOWN;
    00000139 F8 07            [12]  306 	ldhl	sp,#7
    0000013B 2A               [ 8]  307 	ld	a, (hl+)
    0000013C 5F               [ 4]  308 	ld	e, a
    0000013D 56               [ 8]  309 	ld	d, (hl)
    0000013E 21 23 00         [12]  310 	ld	hl, #0x0023
    00000141 19               [ 8]  311 	add	hl, de
    00000142 36 80            [12]  312 	ld	(hl), #0x80
                                    313 ;C:/CrossZGB/ZGB/common/include/Sprite.h:100: sprite->visible = (visible);
    00000144 F8 07            [12]  314 	ldhl	sp,#7
    00000146 2A               [ 8]  315 	ld	a, (hl+)
    00000147 5F               [ 4]  316 	ld	e, a
    00000148 56               [ 8]  317 	ld	d, (hl)
    00000149 21 21 00         [12]  318 	ld	hl, #0x0021
    0000014C 19               [ 8]  319 	add	hl, de
    0000014D 4D               [ 4]  320 	ld	c, l
    0000014E 44               [ 4]  321 	ld	b, h
    0000014F 0A               [ 8]  322 	ld	a, (bc)
    00000150 F6 01            [ 8]  323 	or	a, #0x01
    00000152 02               [ 8]  324 	ld	(bc), a
                                    325 ;C:/CrossZGB/ZGB/common/include/Sprite.h:103: sprite->persistent = (persistent);
    00000153 F8 07            [12]  326 	ldhl	sp,#7
    00000155 2A               [ 8]  327 	ld	a, (hl+)
    00000156 5F               [ 4]  328 	ld	e, a
    00000157 56               [ 8]  329 	ld	d, (hl)
    00000158 21 21 00         [12]  330 	ld	hl, #0x0021
    0000015B 19               [ 8]  331 	add	hl, de
    0000015C 4D               [ 4]  332 	ld	c, l
    0000015D 44               [ 4]  333 	ld	b, h
    0000015E 0A               [ 8]  334 	ld	a, (bc)
    0000015F E6 FD            [ 8]  335 	and	a, #0xfd
    00000161 02               [ 8]  336 	ld	(bc), a
                                    337 ;C:/CrossZGB/ZGB/common/include/Sprite.h:106: sprite->loop_anim = (loop_anim);
    00000162 F8 07            [12]  338 	ldhl	sp,#7
    00000164 2A               [ 8]  339 	ld	a, (hl+)
    00000165 5F               [ 4]  340 	ld	e, a
    00000166 56               [ 8]  341 	ld	d, (hl)
    00000167 21 21 00         [12]  342 	ld	hl, #0x0021
    0000016A 19               [ 8]  343 	add	hl, de
    0000016B 4D               [ 4]  344 	ld	c, l
    0000016C 44               [ 4]  345 	ld	b, h
    0000016D 0A               [ 8]  346 	ld	a, (bc)
    0000016E F6 04            [ 8]  347 	or	a, #0x04
    00000170 02               [ 8]  348 	ld	(bc), a
                                    349 ;C:/CrossZGB/ZGB/common/src/Sprite.c:53: UINT8 __save = CURRENT_BANK;
    00000171 F0r00            [12]  350 	ldh	a, (__current_bank + 0)
    00000173 F8 06            [12]  351 	ldhl	sp,	#6
                                    352 ;C:/CrossZGB/ZGB/common/src/Sprite.c:54: SWITCH_ROM(spriteDataBanks[sprite_type]);
    00000175 32               [ 8]  353 	ld	(hl-), a
    00000176 2B               [ 8]  354 	dec	hl
    00000177 2A               [ 8]  355 	ld	a, (hl+)
    00000178 5F               [ 4]  356 	ld	e, a
    00000179 56               [ 8]  357 	ld	d, (hl)
    0000017A 1A               [ 8]  358 	ld	a, (de)
    0000017B E0r00            [12]  359 	ldh	(__current_bank + 0), a
    0000017D EAr00r00         [16]  360 	ld	(#_rROMB0),a
                                    361 ;C:/CrossZGB/ZGB/common/src/Sprite.c:55: sprite->coll_w = mt_sprite_info->width;
    00000180 F8 07            [12]  362 	ldhl	sp,#7
    00000182 2A               [ 8]  363 	ld	a, (hl+)
    00000183 5F               [ 4]  364 	ld	e, a
    00000184 56               [ 8]  365 	ld	d, (hl)
    00000185 21 04 00         [12]  366 	ld	hl, #0x0004
    00000188 19               [ 8]  367 	add	hl, de
    00000189 4D               [ 4]  368 	ld	c, l
    0000018A 44               [ 4]  369 	ld	b, h
    0000018B F8 02            [12]  370 	ldhl	sp,#2
    0000018D 2A               [ 8]  371 	ld	a, (hl+)
    0000018E 5F               [ 4]  372 	ld	e, a
    0000018F 56               [ 8]  373 	ld	d, (hl)
    00000190 1A               [ 8]  374 	ld	a, (de)
    00000191 02               [ 8]  375 	ld	(bc), a
                                    376 ;C:/CrossZGB/ZGB/common/src/Sprite.c:56: sprite->coll_h = mt_sprite_info->height;
    00000192 F8 07            [12]  377 	ldhl	sp,#7
    00000194 2A               [ 8]  378 	ld	a, (hl+)
    00000195 5F               [ 4]  379 	ld	e, a
    00000196 56               [ 8]  380 	ld	d, (hl)
    00000197 21 05 00         [12]  381 	ld	hl, #0x0005
    0000019A 19               [ 8]  382 	add	hl, de
    0000019B 4D               [ 4]  383 	ld	c, l
    0000019C 44               [ 4]  384 	ld	b, h
    0000019D F8 02            [12]  385 	ldhl	sp,	#2
    0000019F 2A               [ 8]  386 	ld	a, (hl+)
    000001A0 5F               [ 4]  387 	ld	e, a
    000001A1 56               [ 8]  388 	ld	d, (hl)
    000001A2 13               [ 8]  389 	inc	de
    000001A3 1A               [ 8]  390 	ld	a, (de)
    000001A4 02               [ 8]  391 	ld	(bc), a
                                    392 ;C:/CrossZGB/ZGB/common/src/Sprite.c:57: SWITCH_ROM(__save);
    000001A5 F8 06            [12]  393 	ldhl	sp,	#6
    000001A7 7E               [ 8]  394 	ld	a, (hl)
    000001A8 E0r00            [12]  395 	ldh	(__current_bank + 0), a
    000001AA 7E               [ 8]  396 	ld	a, (hl)
    000001AB EAr00r00         [16]  397 	ld	(#_rROMB0),a
                                    398 ;C:/CrossZGB/ZGB/common/src/Sprite.c:58: }
    000001AE E8 09            [16]  399 	add	sp, #9
    000001B0 C9               [16]  400 	ret
                                    401 ;C:/CrossZGB/ZGB/common/src/Sprite.c:60: void SetSpriteAnim(Sprite* sprite, const UINT8* data, UINT8 speed) {
                                    402 ;	---------------------------------
                                    403 ; Function SetSpriteAnim
                                    404 ; ---------------------------------
    000001B1                        405 _SetSpriteAnim::
    000001B1 E8 FC            [16]  406 	add	sp, #-4
    000001B3 F8 02            [12]  407 	ldhl	sp,	#2
    000001B5 7B               [ 4]  408 	ld	a, e
    000001B6 22               [ 8]  409 	ld	(hl+), a
                                    410 ;C:/CrossZGB/ZGB/common/src/Sprite.c:61: if (sprite->anim_data != data) {
    000001B7 7A               [ 4]  411 	ld	a, d
    000001B8 32               [ 8]  412 	ld	(hl-), a
    000001B9 2A               [ 8]  413 	ld	a, (hl+)
    000001BA 5F               [ 4]  414 	ld	e, a
    000001BB 56               [ 8]  415 	ld	d, (hl)
    000001BC 21 0F 00         [12]  416 	ld	hl, #0x000f
    000001BF 19               [ 8]  417 	add	hl, de
    000001C0 33               [ 8]  418 	inc	sp
    000001C1 33               [ 8]  419 	inc	sp
    000001C2 5D               [ 4]  420 	ld	e, l
    000001C3 54               [ 4]  421 	ld	d, h
    000001C4 D5               [16]  422 	push	de
    000001C5 1A               [ 8]  423 	ld	a, (de)
    000001C6 6F               [ 4]  424 	ld	l, a
    000001C7 13               [ 8]  425 	inc	de
    000001C8 1A               [ 8]  426 	ld	a, (de)
    000001C9 67               [ 4]  427 	ld	h, a
    000001CA 7D               [ 4]  428 	ld	a, l
    000001CB 91               [ 4]  429 	sub	a, c
    000001CC 20 04            [12]  430 	jr	NZ, 00113$
    000001CE 7C               [ 4]  431 	ld	a, h
    000001CF 90               [ 4]  432 	sub	a, b
    000001D0 28 51            [12]  433 	jr	Z, 00104$
    000001D2                        434 00113$:
                                    435 ;C:/CrossZGB/ZGB/common/src/Sprite.c:62: sprite->anim_data = (UINT8* )data;
    000001D2 E1               [12]  436 	pop	hl
    000001D3 E5               [16]  437 	push	hl
    000001D4 79               [ 4]  438 	ld	a, c
    000001D5 22               [ 8]  439 	ld	(hl+), a
    000001D6 70               [ 8]  440 	ld	(hl), b
                                    441 ;C:/CrossZGB/ZGB/common/src/Sprite.c:63: SetFrame(sprite, VECTOR_GET(data, 0));
    000001D7 03               [ 8]  442 	inc	bc
    000001D8 0A               [ 8]  443 	ld	a, (bc)
    000001D9 F8 01            [12]  444 	ldhl	sp,	#1
                                    445 ;C:/CrossZGB/ZGB/common/include/Sprite.h:81: sprite->mt_sprite = GetSpriteAnimation(sprite, frame);
    000001DB 22               [ 8]  446 	ld	(hl+), a
    000001DC 2A               [ 8]  447 	ld	a, (hl+)
    000001DD 5F               [ 4]  448 	ld	e, a
    000001DE 56               [ 8]  449 	ld	d, (hl)
    000001DF 21 14 00         [12]  450 	ld	hl, #0x0014
    000001E2 19               [ 8]  451 	add	hl, de
    000001E3 5D               [ 4]  452 	ld	e, l
    000001E4 54               [ 4]  453 	ld	d, h
    000001E5 F8 01            [12]  454 	ldhl	sp,	#1
    000001E7 2A               [ 8]  455 	ld	a, (hl+)
    000001E8 4F               [ 4]  456 	ld	c, a
    000001E9 AF               [ 4]  457 	xor	a, a
    000001EA D5               [16]  458 	push	de
    000001EB 47               [ 4]  459 	ld	b, a
    000001EC 2A               [ 8]  460 	ld	a, (hl+)
    000001ED 5F               [ 4]  461 	ld	e, a
    000001EE 56               [ 8]  462 	ld	d, (hl)
    000001EF CDr00r00         [24]  463 	call	_GetSpriteAnimation
    000001F2 D1               [12]  464 	pop	de
    000001F3 79               [ 4]  465 	ld	a, c
    000001F4 12               [ 8]  466 	ld	(de), a
    000001F5 13               [ 8]  467 	inc	de
    000001F6 78               [ 4]  468 	ld	a, b
    000001F7 12               [ 8]  469 	ld	(de), a
                                    470 ;C:/CrossZGB/ZGB/common/include/Sprite.h:82: sprite->anim_frame = frame;
    000001F8 F8 02            [12]  471 	ldhl	sp,#2
    000001FA 2A               [ 8]  472 	ld	a, (hl+)
    000001FB 5F               [ 4]  473 	ld	e, a
    000001FC 56               [ 8]  474 	ld	d, (hl)
    000001FD 21 13 00         [12]  475 	ld	hl, #0x0013
    00000200 19               [ 8]  476 	add	hl, de
    00000201 4D               [ 4]  477 	ld	c, l
    00000202 44               [ 4]  478 	ld	b, h
    00000203 F8 01            [12]  479 	ldhl	sp,	#1
                                    480 ;C:/CrossZGB/ZGB/common/src/Sprite.c:64: sprite->anim_frame = 0;
                                    481 ;C:/CrossZGB/ZGB/common/src/Sprite.c:65: sprite->anim_accum_ticks = 0;
    00000205 2A               [ 8]  482 	ld	a, (hl+)
    00000206 02               [ 8]  483 	ld	(bc), a
    00000207 AF               [ 4]  484 	xor	a, a
    00000208 02               [ 8]  485 	ld	(bc), a
    00000209 2A               [ 8]  486 	ld	a, (hl+)
    0000020A 5F               [ 4]  487 	ld	e, a
    0000020B 56               [ 8]  488 	ld	d, (hl)
    0000020C 21 11 00         [12]  489 	ld	hl, #0x0011
    0000020F 19               [ 8]  490 	add	hl, de
    00000210 4D               [ 4]  491 	ld	c, l
    00000211 44               [ 4]  492 	ld	b, h
    00000212 AF               [ 4]  493 	xor	a, a
    00000213 02               [ 8]  494 	ld	(bc), a
                                    495 ;C:/CrossZGB/ZGB/common/src/Sprite.c:66: sprite->anim_speed = speed;
    00000214 F8 02            [12]  496 	ldhl	sp,#2
    00000216 2A               [ 8]  497 	ld	a, (hl+)
    00000217 5F               [ 4]  498 	ld	e, a
    00000218 56               [ 8]  499 	ld	d, (hl)
    00000219 21 12 00         [12]  500 	ld	hl, #0x0012
    0000021C 19               [ 8]  501 	add	hl, de
    0000021D 4D               [ 4]  502 	ld	c, l
    0000021E 44               [ 4]  503 	ld	b, h
    0000021F F8 06            [12]  504 	ldhl	sp,	#6
    00000221 7E               [ 8]  505 	ld	a, (hl)
    00000222 02               [ 8]  506 	ld	(bc), a
    00000223                        507 00104$:
                                    508 ;C:/CrossZGB/ZGB/common/src/Sprite.c:68: }
    00000223 E8 04            [16]  509 	add	sp, #4
    00000225 E1               [12]  510 	pop	hl
    00000226 33               [ 8]  511 	inc	sp
    00000227 E9               [ 4]  512 	jp	(hl)
                                    513 ;C:/CrossZGB/ZGB/common/src/Sprite.c:72: void DrawSprite(void) {
                                    514 ;	---------------------------------
                                    515 ; Function DrawSprite
                                    516 ; ---------------------------------
    00000228                        517 _DrawSprite::
    00000228 E8 F0            [16]  518 	add	sp, #-16
                                    519 ;C:/CrossZGB/ZGB/common/src/Sprite.c:74: screen_x = THIS->x - scroll_x;
    0000022A 21r00r00         [12]  520 	ld	hl, #_THIS
    0000022D 2A               [ 8]  521 	ld	a,	(hl+)
    0000022E 66               [ 8]  522 	ld	h, (hl)
    0000022F 6F               [ 4]  523 	ld	l, a
    00000230 2A               [ 8]  524 	ld	a, (hl+)
    00000231 4F               [ 4]  525 	ld	c, a
    00000232 46               [ 8]  526 	ld	b, (hl)
    00000233 FAr00r00         [16]  527 	ld	a, (_scroll_x)
    00000236 5F               [ 4]  528 	ld	e, a
    00000237 21r01r00         [12]  529 	ld	hl, #_scroll_x + 1
    0000023A 56               [ 8]  530 	ld	d, (hl)
    0000023B 79               [ 4]  531 	ld	a, c
    0000023C 93               [ 4]  532 	sub	a, e
    0000023D 21r00r00         [12]  533 	ld	hl, #_DrawSprite_screen_x_10000_284
    00000240 22               [ 8]  534 	ld	(hl+), a
    00000241 78               [ 4]  535 	ld	a, b
    00000242 9A               [ 4]  536 	sbc	a, d
    00000243 77               [ 8]  537 	ld	(hl), a
                                    538 ;C:/CrossZGB/ZGB/common/src/Sprite.c:75: screen_y = THIS->y - scroll_y;
    00000244 FAr00r00         [16]  539 	ld	a, (#_THIS)
    00000247 F8 0D            [12]  540 	ldhl	sp,	#13
    00000249 77               [ 8]  541 	ld	(hl), a
    0000024A FAr01r00         [16]  542 	ld	a, (#_THIS + 1)
    0000024D F8 0E            [12]  543 	ldhl	sp,	#14
    0000024F 32               [ 8]  544 	ld	(hl-), a
    00000250 2A               [ 8]  545 	ld	a, (hl+)
    00000251 66               [ 8]  546 	ld	h, (hl)
    00000252 6F               [ 4]  547 	ld	l, a
    00000253 23               [ 8]  548 	inc	hl
    00000254 23               [ 8]  549 	inc	hl
    00000255 2A               [ 8]  550 	ld	a, (hl+)
    00000256 4F               [ 4]  551 	ld	c, a
    00000257 46               [ 8]  552 	ld	b, (hl)
    00000258 FAr00r00         [16]  553 	ld	a, (_scroll_y)
    0000025B 5F               [ 4]  554 	ld	e, a
    0000025C 21r01r00         [12]  555 	ld	hl, #_scroll_y + 1
    0000025F 56               [ 8]  556 	ld	d, (hl)
    00000260 79               [ 4]  557 	ld	a, c
    00000261 93               [ 4]  558 	sub	a, e
    00000262 21r02r00         [12]  559 	ld	hl, #_DrawSprite_screen_y_10000_284
    00000265 22               [ 8]  560 	ld	(hl+), a
    00000266 78               [ 4]  561 	ld	a, b
    00000267 9A               [ 4]  562 	sbc	a, d
    00000268 77               [ 8]  563 	ld	(hl), a
                                    564 ;C:/CrossZGB/ZGB/common/src/Sprite.c:78: if (THIS->anim_data) {
    00000269 F8 0D            [12]  565 	ldhl	sp,#13
    0000026B 2A               [ 8]  566 	ld	a, (hl+)
    0000026C 5F               [ 4]  567 	ld	e, a
    0000026D 56               [ 8]  568 	ld	d, (hl)
    0000026E 21 0F 00         [12]  569 	ld	hl, #0x000f
    00000271 19               [ 8]  570 	add	hl, de
    00000272 2A               [ 8]  571 	ld	a, (hl+)
    00000273 B6               [ 8]  572 	or	a, (hl)
    00000274 CAr39r03         [16]  573 	jp	Z, 00109$
                                    574 ;C:/CrossZGB/ZGB/common/src/Sprite.c:79: THIS->anim_accum_ticks += (THIS->anim_speed << delta_time);
    00000277 F8 0D            [12]  575 	ldhl	sp,#13
    00000279 2A               [ 8]  576 	ld	a, (hl+)
    0000027A 5F               [ 4]  577 	ld	e, a
    0000027B 56               [ 8]  578 	ld	d, (hl)
    0000027C 21 11 00         [12]  579 	ld	hl, #0x0011
    0000027F 19               [ 8]  580 	add	hl, de
    00000280 5D               [ 4]  581 	ld	e, l
    00000281 54               [ 4]  582 	ld	d, h
    00000282 1A               [ 8]  583 	ld	a, (de)
    00000283 F8 0F            [12]  584 	ldhl	sp,	#15
    00000285 32               [ 8]  585 	ld	(hl-), a
    00000286 2B               [ 8]  586 	dec	hl
    00000287 D5               [16]  587 	push	de
    00000288 2A               [ 8]  588 	ld	a, (hl+)
    00000289 5F               [ 4]  589 	ld	e, a
    0000028A 56               [ 8]  590 	ld	d, (hl)
    0000028B 21 12 00         [12]  591 	ld	hl, #0x0012
    0000028E 19               [ 8]  592 	add	hl, de
    0000028F D1               [12]  593 	pop	de
    00000290 4D               [ 4]  594 	ld	c, l
    00000291 44               [ 4]  595 	ld	b, h
    00000292 0A               [ 8]  596 	ld	a, (bc)
    00000293 21r00r00         [12]  597 	ld	hl, #_delta_time
    00000296 46               [ 8]  598 	ld	b, (hl)
    00000297 04               [ 4]  599 	inc	b
    00000298 18 01            [12]  600 	jr	00220$
    0000029A                        601 00219$:
    0000029A 87               [ 4]  602 	add	a, a
    0000029B                        603 00220$:
    0000029B 05               [ 4]  604 	dec	b
    0000029C 20 FC            [12]  605 	jr	NZ,00219$
    0000029E F8 0F            [12]  606 	ldhl	sp,	#15
    000002A0 86               [ 8]  607 	add	a, (hl)
    000002A1 12               [ 8]  608 	ld	(de), a
                                    609 ;C:/CrossZGB/ZGB/common/src/Sprite.c:75: screen_y = THIS->y - scroll_y;
    000002A2 FAr00r00         [16]  610 	ld	a, (_THIS)
    000002A5 21r01r00         [12]  611 	ld	hl, #_THIS + 1
    000002A8 66               [ 8]  612 	ld	h, (hl)
                                    613 ;C:/CrossZGB/ZGB/common/src/Sprite.c:79: THIS->anim_accum_ticks += (THIS->anim_speed << delta_time);
    000002A9 6F               [ 4]  614 	ld	l, a
    000002AA 11 11 00         [12]  615 	ld	de, #0x0011
    000002AD 19               [ 8]  616 	add	hl, de
    000002AE 7E               [ 8]  617 	ld	a, (hl)
                                    618 ;C:/CrossZGB/ZGB/common/src/Sprite.c:80: if (THIS->anim_accum_ticks >= 100u) {
    000002AF FE 64            [ 8]  619 	cp	a, #0x64
    000002B1 DAr39r03         [16]  620 	jp	C, 00109$
                                    621 ;C:/CrossZGB/ZGB/common/src/Sprite.c:81: THIS->anim_accum_ticks -= 100u;
    000002B4 C6 9C            [ 8]  622 	add	a, #0x9c
    000002B6 77               [ 8]  623 	ld	(hl), a
                                    624 ;C:/CrossZGB/ZGB/common/src/Sprite.c:83: if (++THIS->anim_frame >= VECTOR_LEN(THIS->anim_data)) {
    000002B7 FAr00r00         [16]  625 	ld	a, (_THIS)
    000002BA 21r01r00         [12]  626 	ld	hl, #_THIS + 1
    000002BD 46               [ 8]  627 	ld	b, (hl)
    000002BE C6 13            [ 8]  628 	add	a, #0x13
    000002C0 4F               [ 4]  629 	ld	c, a
    000002C1 30 01            [12]  630 	jr	NC, 00221$
    000002C3 04               [ 4]  631 	inc	b
    000002C4                        632 00221$:
    000002C4 0A               [ 8]  633 	ld	a, (bc)
    000002C5 3C               [ 4]  634 	inc	a
    000002C6 F8 0F            [12]  635 	ldhl	sp,	#15
    000002C8 77               [ 8]  636 	ld	(hl), a
    000002C9 7E               [ 8]  637 	ld	a, (hl)
    000002CA 02               [ 8]  638 	ld	(bc), a
                                    639 ;C:/CrossZGB/ZGB/common/src/Sprite.c:75: screen_y = THIS->y - scroll_y;
    000002CB FAr00r00         [16]  640 	ld	a, (_THIS)
    000002CE 4F               [ 4]  641 	ld	c, a
    000002CF 21r01r00         [12]  642 	ld	hl, #_THIS + 1
    000002D2 46               [ 8]  643 	ld	b, (hl)
                                    644 ;C:/CrossZGB/ZGB/common/src/Sprite.c:83: if (++THIS->anim_frame >= VECTOR_LEN(THIS->anim_data)) {
    000002D3 21 0F 00         [12]  645 	ld	hl, #0x000f
    000002D6 09               [ 8]  646 	add	hl, bc
    000002D7 2A               [ 8]  647 	ld	a,	(hl+)
    000002D8 66               [ 8]  648 	ld	h, (hl)
    000002D9 6F               [ 4]  649 	ld	l, a
    000002DA 5E               [ 8]  650 	ld	e, (hl)
    000002DB F8 0F            [12]  651 	ldhl	sp,	#15
    000002DD 7E               [ 8]  652 	ld	a, (hl)
    000002DE 93               [ 4]  653 	sub	a, e
    000002DF 38 18            [12]  654 	jr	C, 00105$
                                    655 ;C:/CrossZGB/ZGB/common/src/Sprite.c:84: if (THIS->loop_anim) {
    000002E1 21 21 00         [12]  656 	ld	hl, #0x0021
    000002E4 09               [ 8]  657 	add	hl, bc
    000002E5 7E               [ 8]  658 	ld	a, (hl)
    000002E6 0F               [ 4]  659 	rrca
    000002E7 0F               [ 4]  660 	rrca
    000002E8 E6 01            [ 8]  661 	and	a, #0x01
    000002EA 5F               [ 4]  662 	ld	e, a
                                    663 ;C:/CrossZGB/ZGB/common/src/Sprite.c:85: THIS->anim_frame = 0;
    000002EB 21 13 00         [12]  664 	ld	hl, #0x0013
    000002EE 09               [ 8]  665 	add	hl, bc
                                    666 ;C:/CrossZGB/ZGB/common/src/Sprite.c:84: if (THIS->loop_anim) {
    000002EF 7B               [ 4]  667 	ld	a, e
    000002F0 B7               [ 4]  668 	or	a, a
    000002F1 28 04            [12]  669 	jr	Z, 00102$
                                    670 ;C:/CrossZGB/ZGB/common/src/Sprite.c:85: THIS->anim_frame = 0;
    000002F3 36 00            [12]  671 	ld	(hl), #0x00
    000002F5 18 02            [12]  672 	jr	00105$
    000002F7                        673 00102$:
                                    674 ;C:/CrossZGB/ZGB/common/src/Sprite.c:87: --THIS->anim_frame;
    000002F7 35               [12]  675 	dec	(hl)
    000002F8 7E               [ 8]  676 	ld	a, (hl)
    000002F9                        677 00105$:
                                    678 ;C:/CrossZGB/ZGB/common/src/Sprite.c:75: screen_y = THIS->y - scroll_y;
    000002F9 FAr00r00         [16]  679 	ld	a, (_THIS)
    000002FC 4F               [ 4]  680 	ld	c, a
    000002FD 21r01r00         [12]  681 	ld	hl, #_THIS + 1
    00000300 46               [ 8]  682 	ld	b, (hl)
                                    683 ;C:/CrossZGB/ZGB/common/src/Sprite.c:90: THIS->mt_sprite = GetSpriteAnimation(THIS, VECTOR_GET(THIS->anim_data, THIS->anim_frame));
    00000301 21 14 00         [12]  684 	ld	hl, #0x0014
    00000304 09               [ 8]  685 	add	hl, bc
    00000305 E5               [16]  686 	push	hl
    00000306 7D               [ 4]  687 	ld	a, l
    00000307 F8 10            [12]  688 	ldhl	sp,	#16
    00000309 77               [ 8]  689 	ld	(hl), a
    0000030A E1               [12]  690 	pop	hl
    0000030B 7C               [ 4]  691 	ld	a, h
    0000030C F8 0F            [12]  692 	ldhl	sp,	#15
    0000030E 77               [ 8]  693 	ld	(hl), a
    0000030F 21 0F 00         [12]  694 	ld	hl, #0x000f
    00000312 09               [ 8]  695 	add	hl, bc
    00000313 2A               [ 8]  696 	ld	a,	(hl+)
    00000314 66               [ 8]  697 	ld	h, (hl)
    00000315 6F               [ 4]  698 	ld	l, a
    00000316 79               [ 4]  699 	ld	a, c
    00000317 C6 13            [ 8]  700 	add	a, #0x13
    00000319 4F               [ 4]  701 	ld	c, a
    0000031A 30 01            [12]  702 	jr	NC, 00222$
    0000031C 04               [ 4]  703 	inc	b
    0000031D                        704 00222$:
    0000031D 0A               [ 8]  705 	ld	a, (bc)
    0000031E 06 00            [ 8]  706 	ld	b, #0x00
    00000320 4F               [ 4]  707 	ld	c, a
    00000321 03               [ 8]  708 	inc	bc
    00000322 09               [ 8]  709 	add	hl, bc
    00000323 4E               [ 8]  710 	ld	c, (hl)
    00000324 AF               [ 4]  711 	xor	a, a
    00000325 47               [ 4]  712 	ld	b, a
    00000326 FAr00r00         [16]  713 	ld	a, (_THIS)
    00000329 5F               [ 4]  714 	ld	e, a
    0000032A 21r01r00         [12]  715 	ld	hl, #_THIS + 1
    0000032D 56               [ 8]  716 	ld	d, (hl)
    0000032E CDr00r00         [24]  717 	call	_GetSpriteAnimation
    00000331 F8 0E            [12]  718 	ldhl	sp,	#14
    00000333 2A               [ 8]  719 	ld	a, (hl+)
    00000334 66               [ 8]  720 	ld	h, (hl)
    00000335 6F               [ 4]  721 	ld	l, a
    00000336 79               [ 4]  722 	ld	a, c
    00000337 22               [ 8]  723 	ld	(hl+), a
    00000338 70               [ 8]  724 	ld	(hl), b
    00000339                        725 00109$:
                                    726 ;C:/CrossZGB/ZGB/common/src/Sprite.c:75: screen_y = THIS->y - scroll_y;
    00000339 FAr00r00         [16]  727 	ld	a, (_THIS)
    0000033C 4F               [ 4]  728 	ld	c, a
    0000033D 21r01r00         [12]  729 	ld	hl, #_THIS + 1
    00000340 46               [ 8]  730 	ld	b, (hl)
                                    731 ;C:/CrossZGB/ZGB/common/src/Sprite.c:96: (THIS->visible) &&
    00000341 21 21 00         [12]  732 	ld	hl, #0x0021
    00000344 09               [ 8]  733 	add	hl, bc
    00000345 7E               [ 8]  734 	ld	a, (hl)
    00000346 E6 01            [ 8]  735 	and	a, #0x01
    00000348 5F               [ 4]  736 	ld	e, a
    00000349 B7               [ 4]  737 	or	a, a
    0000034A CAr5Ar05         [16]  738 	jp	Z, 00121$
                                    739 ;C:/CrossZGB/ZGB/common/src/Sprite.c:98: ((UINT16)(screen_x + MAXIMUM_SPRITES_SIZE) < (UINT16)(DEVICE_SCREEN_PX_WIDTH + (MAXIMUM_SPRITES_SIZE << 1))) &&
    0000034D 21r00r00         [12]  740 	ld	hl, #_DrawSprite_screen_x_10000_284
    00000350 2A               [ 8]  741 	ld	a, (hl+)
    00000351 C6 20            [ 8]  742 	add	a, #0x20
    00000353 5F               [ 4]  743 	ld	e, a
    00000354 7E               [ 8]  744 	ld	a, (hl)
    00000355 CE 00            [ 8]  745 	adc	a, #0x00
    00000357 57               [ 4]  746 	ld	d, a
    00000358 7B               [ 4]  747 	ld	a, e
    00000359 D6 E0            [ 8]  748 	sub	a, #0xe0
    0000035B 7A               [ 4]  749 	ld	a, d
    0000035C DE 00            [ 8]  750 	sbc	a, #0x00
    0000035E D2r5Ar05         [16]  751 	jp	NC, 00121$
                                    752 ;C:/CrossZGB/ZGB/common/src/Sprite.c:99: ((UINT16)(screen_y + MAXIMUM_SPRITES_SIZE) < (UINT16)(DEVICE_SCREEN_PX_HEIGHT + (MAXIMUM_SPRITES_SIZE << 1)))
    00000361 21r02r00         [12]  753 	ld	hl, #_DrawSprite_screen_y_10000_284
    00000364 2A               [ 8]  754 	ld	a, (hl+)
    00000365 C6 20            [ 8]  755 	add	a, #0x20
    00000367 5F               [ 4]  756 	ld	e, a
    00000368 7E               [ 8]  757 	ld	a, (hl)
    00000369 CE 00            [ 8]  758 	adc	a, #0x00
    0000036B 57               [ 4]  759 	ld	d, a
    0000036C 7B               [ 4]  760 	ld	a, e
    0000036D D6 D0            [ 8]  761 	sub	a, #0xd0
    0000036F 7A               [ 4]  762 	ld	a, d
    00000370 DE 00            [ 8]  763 	sbc	a, #0x00
    00000372 D2r5Ar05         [16]  764 	jp	NC, 00121$
                                    765 ;C:/CrossZGB/ZGB/common/src/Sprite.c:103: screen_x += (DEVICE_SPRITE_PX_OFFSET_X + SCREEN_SPR_OFFSET_X);
    00000375 21r00r00         [12]  766 	ld	hl, #_DrawSprite_screen_x_10000_284
    00000378 7E               [ 8]  767 	ld	a, (hl)
    00000379 C6 08            [ 8]  768 	add	a, #0x08
    0000037B 22               [ 8]  769 	ld	(hl+), a
    0000037C 7E               [ 8]  770 	ld	a, (hl)
    0000037D CE 00            [ 8]  771 	adc	a, #0x00
    0000037F 77               [ 8]  772 	ld	(hl), a
                                    773 ;C:/CrossZGB/ZGB/common/src/Sprite.c:104: screen_y += DEVICE_SPRITE_PX_OFFSET_Y;
    00000380 21r02r00         [12]  774 	ld	hl, #_DrawSprite_screen_y_10000_284
    00000383 7E               [ 8]  775 	ld	a, (hl)
    00000384 C6 10            [ 8]  776 	add	a, #0x10
    00000386 22               [ 8]  777 	ld	(hl+), a
    00000387 7E               [ 8]  778 	ld	a, (hl)
    00000388 CE 00            [ 8]  779 	adc	a, #0x00
    0000038A 77               [ 8]  780 	ld	(hl), a
                                    781 ;C:/CrossZGB/ZGB/common/src/Sprite.c:107: UINT8 __save = CURRENT_BANK;
    0000038B F0r00            [12]  782 	ldh	a, (__current_bank + 0)
    0000038D F8 00            [12]  783 	ldhl	sp,	#0
    0000038F 77               [ 8]  784 	ld	(hl), a
                                    785 ;C:/CrossZGB/ZGB/common/src/Sprite.c:75: screen_y = THIS->y - scroll_y;
    00000390 FAr00r00         [16]  786 	ld	a, (_THIS)
    00000393 4F               [ 4]  787 	ld	c, a
    00000394 21r01r00         [12]  788 	ld	hl, #_THIS + 1
    00000397 46               [ 8]  789 	ld	b, (hl)
                                    790 ;C:/CrossZGB/ZGB/common/src/Sprite.c:108: SWITCH_ROM(THIS->mt_sprite_bank);
    00000398 21 06 00         [12]  791 	ld	hl, #0x0006
    0000039B 09               [ 8]  792 	add	hl, bc
    0000039C 5D               [ 4]  793 	ld	e, l
    0000039D 54               [ 4]  794 	ld	d, h
    0000039E 1A               [ 8]  795 	ld	a, (de)
    0000039F E0r00            [12]  796 	ldh	(__current_bank + 0), a
    000003A1 1A               [ 8]  797 	ld	a, (de)
    000003A2 EAr00r00         [16]  798 	ld	(#_rROMB0),a
                                    799 ;C:/CrossZGB/ZGB/common/src/Sprite.c:109: switch(THIS->mirror) {
    000003A5 21 16 00         [12]  800 	ld	hl, #0x0016
    000003A8 09               [ 8]  801 	add	hl, bc
    000003A9 7E               [ 8]  802 	ld	a, (hl)
    000003AA F8 01            [12]  803 	ldhl	sp,	#1
    000003AC 77               [ 8]  804 	ld	(hl), a
    000003AD 3E 04            [ 8]  805 	ld	a, #0x04
    000003AF F8 01            [12]  806 	ldhl	sp,	#1
    000003B1 96               [ 8]  807 	sub	a, (hl)
    000003B2 DAr4Fr05         [16]  808 	jp	C, 00115$
                                    809 ;C:/CrossZGB/ZGB/common/src/Sprite.c:110: case NO_MIRROR: next_oam_idx += move_metasprite_ex    (THIS->mt_sprite, THIS->first_tile,    THIS->attr_add, next_oam_idx, screen_x,                screen_y               ); break;
    000003B5 FAr02r00         [16]  810 	ld	a, (#_DrawSprite_screen_y_10000_284)
    000003B8 F8 02            [12]  811 	ldhl	sp,	#2
    000003BA 77               [ 8]  812 	ld	(hl), a
    000003BB FAr00r00         [16]  813 	ld	a, (#_DrawSprite_screen_x_10000_284)
    000003BE F8 03            [12]  814 	ldhl	sp,	#3
    000003C0 77               [ 8]  815 	ld	(hl), a
    000003C1 FAr00r00         [16]  816 	ld	a, (#_next_oam_idx)
    000003C4 F8 04            [12]  817 	ldhl	sp,	#4
    000003C6 77               [ 8]  818 	ld	(hl), a
                                    819 ;C:/CrossZGB/ZGB/common/src/Sprite.c:111: case H_MIRROR:  next_oam_idx += move_metasprite_flipy (THIS->mt_sprite, THIS->first_tile_H,  THIS->attr_add, next_oam_idx, screen_x,                screen_y + THIS->coll_h); break;
    000003C7 FAr02r00         [16]  820 	ld	a, (#_DrawSprite_screen_y_10000_284)
    000003CA F8 05            [12]  821 	ldhl	sp,	#5
    000003CC 77               [ 8]  822 	ld	(hl), a
                                    823 ;C:/CrossZGB/ZGB/common/src/Sprite.c:112: case V_MIRROR:  next_oam_idx += move_metasprite_flipx (THIS->mt_sprite, THIS->first_tile_V,  THIS->attr_add, next_oam_idx, screen_x + THIS->coll_w, screen_y               ); break;
    000003CD FAr00r00         [16]  824 	ld	a, (#_DrawSprite_screen_x_10000_284)
    000003D0 F8 06            [12]  825 	ldhl	sp,	#6
    000003D2 77               [ 8]  826 	ld	(hl), a
                                    827 ;C:/CrossZGB/ZGB/common/src/Sprite.c:90: THIS->mt_sprite = GetSpriteAnimation(THIS, VECTOR_GET(THIS->anim_data, THIS->anim_frame));
    000003D3 21 14 00         [12]  828 	ld	hl, #0x0014
    000003D6 09               [ 8]  829 	add	hl, bc
    000003D7 E5               [16]  830 	push	hl
    000003D8 7D               [ 4]  831 	ld	a, l
    000003D9 F8 10            [12]  832 	ldhl	sp,	#16
    000003DB 77               [ 8]  833 	ld	(hl), a
    000003DC E1               [12]  834 	pop	hl
    000003DD 7C               [ 4]  835 	ld	a, h
    000003DE F8 0F            [12]  836 	ldhl	sp,	#15
    000003E0 77               [ 8]  837 	ld	(hl), a
                                    838 ;C:/CrossZGB/ZGB/common/src/Sprite.c:110: case NO_MIRROR: next_oam_idx += move_metasprite_ex    (THIS->mt_sprite, THIS->first_tile,    THIS->attr_add, next_oam_idx, screen_x,                screen_y               ); break;
    000003E1 21 0E 00         [12]  839 	ld	hl, #0x000e
    000003E4 09               [ 8]  840 	add	hl, bc
    000003E5 5D               [ 4]  841 	ld	e, l
    000003E6 54               [ 4]  842 	ld	d, h
                                    843 ;C:/CrossZGB/ZGB/common/src/Sprite.c:111: case H_MIRROR:  next_oam_idx += move_metasprite_flipy (THIS->mt_sprite, THIS->first_tile_H,  THIS->attr_add, next_oam_idx, screen_x,                screen_y + THIS->coll_h); break;
    000003E7 21 05 00         [12]  844 	ld	hl, #0x0005
    000003EA 09               [ 8]  845 	add	hl, bc
    000003EB E5               [16]  846 	push	hl
    000003EC 7D               [ 4]  847 	ld	a, l
    000003ED F8 09            [12]  848 	ldhl	sp,	#9
    000003EF 77               [ 8]  849 	ld	(hl), a
    000003F0 E1               [12]  850 	pop	hl
    000003F1 7C               [ 4]  851 	ld	a, h
    000003F2 F8 08            [12]  852 	ldhl	sp,	#8
    000003F4 77               [ 8]  853 	ld	(hl), a
                                    854 ;C:/CrossZGB/ZGB/common/src/Sprite.c:112: case V_MIRROR:  next_oam_idx += move_metasprite_flipx (THIS->mt_sprite, THIS->first_tile_V,  THIS->attr_add, next_oam_idx, screen_x + THIS->coll_w, screen_y               ); break;
    000003F5 21 04 00         [12]  855 	ld	hl, #0x0004
    000003F8 09               [ 8]  856 	add	hl, bc
    000003F9 E5               [16]  857 	push	hl
    000003FA 7D               [ 4]  858 	ld	a, l
    000003FB F8 0B            [12]  859 	ldhl	sp,	#11
    000003FD 77               [ 8]  860 	ld	(hl), a
    000003FE E1               [12]  861 	pop	hl
    000003FF 7C               [ 4]  862 	ld	a, h
    00000400 F8 0A            [12]  863 	ldhl	sp,	#10
                                    864 ;C:/CrossZGB/ZGB/common/src/Sprite.c:110: case NO_MIRROR: next_oam_idx += move_metasprite_ex    (THIS->mt_sprite, THIS->first_tile,    THIS->attr_add, next_oam_idx, screen_x,                screen_y               ); break;
    00000402 22               [ 8]  865 	ld	(hl+), a
    00000403 1A               [ 8]  866 	ld	a, (de)
    00000404 77               [ 8]  867 	ld	(hl), a
    00000405 F8 0E            [12]  868 	ldhl	sp,#14
    00000407 2A               [ 8]  869 	ld	a, (hl+)
    00000408 5F               [ 4]  870 	ld	e, a
    00000409 56               [ 8]  871 	ld	d, (hl)
    0000040A 1A               [ 8]  872 	ld	a, (de)
    0000040B F8 0C            [12]  873 	ldhl	sp,	#12
    0000040D 22               [ 8]  874 	ld	(hl+), a
    0000040E 13               [ 8]  875 	inc	de
    0000040F 1A               [ 8]  876 	ld	a, (de)
                                    877 ;c:\crosszgb\gbdk\include\gb\metasprites.h:160: __current_metasprite = metasprite;
    00000410 32               [ 8]  878 	ld	(hl-), a
    00000411 2A               [ 8]  879 	ld	a, (hl+)
    00000412 23               [ 8]  880 	inc	hl
    00000413 32               [ 8]  881 	ld	(hl-), a
    00000414 2A               [ 8]  882 	ld	a, (hl+)
    00000415 23               [ 8]  883 	inc	hl
    00000416 77               [ 8]  884 	ld	(hl), a
                                    885 ;C:/CrossZGB/ZGB/common/src/Sprite.c:109: switch(THIS->mirror) {
    00000417 F8 01            [12]  886 	ldhl	sp,	#1
    00000419 5E               [ 8]  887 	ld	e, (hl)
    0000041A 16 00            [ 8]  888 	ld	d, #0x00
    0000041C 21r26r04         [12]  889 	ld	hl, #00223$
    0000041F 19               [ 8]  890 	add	hl, de
    00000420 19               [ 8]  891 	add	hl, de
    00000421 5E               [ 8]  892 	ld	e, (hl)
    00000422 23               [ 8]  893 	inc	hl
    00000423 66               [ 8]  894 	ld	h, (hl)
    00000424 6B               [ 4]  895 	ld	l, e
    00000425 E9               [ 4]  896 	jp	(hl)
    00000426                        897 00223$:
    00000426r30r04                  898 	.dw	00110$
    00000428r5Dr04                  899 	.dw	00111$
    0000042ArA5r04                  900 	.dw	00112$
    0000042CrE3r04                  901 	.dw	00114$
    0000042ErE3r04                  902 	.dw	00114$
                                    903 ;C:/CrossZGB/ZGB/common/src/Sprite.c:110: case NO_MIRROR: next_oam_idx += move_metasprite_ex    (THIS->mt_sprite, THIS->first_tile,    THIS->attr_add, next_oam_idx, screen_x,                screen_y               ); break;
    00000430                        904 00110$:
    00000430 F8 02            [12]  905 	ldhl	sp,	#2
    00000432 2A               [ 8]  906 	ld	a, (hl+)
    00000433 57               [ 4]  907 	ld	d, a
    00000434 5E               [ 8]  908 	ld	e, (hl)
    00000435 F8 0B            [12]  909 	ldhl	sp,	#11
    00000437 7E               [ 8]  910 	ld	a, (hl)
    00000438 EAr00r00         [16]  911 	ld	(#___current_base_prop),a
    0000043B 21 0A 00         [12]  912 	ld	hl, #0x000a
    0000043E 09               [ 8]  913 	add	hl, bc
    0000043F 7E               [ 8]  914 	ld	a, (hl)
    00000440 EAr00r00         [16]  915 	ld	(#___current_base_tile),a
                                    916 ;c:\crosszgb\gbdk\include\gb\metasprites.h:160: __current_metasprite = metasprite;
    00000443 F8 0E            [12]  917 	ldhl	sp,	#14
    00000445 7E               [ 8]  918 	ld	a, (hl)
    00000446 EAr00r00         [16]  919 	ld	(#___current_metasprite),a
    00000449 F8 0F            [12]  920 	ldhl	sp,	#15
    0000044B 7E               [ 8]  921 	ld	a, (hl)
    0000044C EAr01r00         [16]  922 	ld	(#___current_metasprite + 1),a
                                    923 ;c:\crosszgb\gbdk\include\gb\metasprites.h:163: return __move_metasprite(base_sprite, (y << 8) | (uint8_t)x);
    0000044F F8 04            [12]  924 	ldhl	sp,	#4
    00000451 7E               [ 8]  925 	ld	a, (hl)
    00000452 CDr00r00         [24]  926 	call	___move_metasprite
                                    927 ;C:/CrossZGB/ZGB/common/src/Sprite.c:110: case NO_MIRROR: next_oam_idx += move_metasprite_ex    (THIS->mt_sprite, THIS->first_tile,    THIS->attr_add, next_oam_idx, screen_x,                screen_y               ); break;
    00000455 21r00r00         [12]  928 	ld	hl, #_next_oam_idx
    00000458 86               [ 8]  929 	add	a, (hl)
    00000459 77               [ 8]  930 	ld	(hl), a
    0000045A C3r4Fr05         [16]  931 	jp	00115$
                                    932 ;C:/CrossZGB/ZGB/common/src/Sprite.c:111: case H_MIRROR:  next_oam_idx += move_metasprite_flipy (THIS->mt_sprite, THIS->first_tile_H,  THIS->attr_add, next_oam_idx, screen_x,                screen_y + THIS->coll_h); break;
    0000045D                        933 00111$:
    0000045D F8 07            [12]  934 	ldhl	sp,#7
    0000045F 2A               [ 8]  935 	ld	a, (hl+)
    00000460 5F               [ 4]  936 	ld	e, a
    00000461 56               [ 8]  937 	ld	d, (hl)
    00000462 1A               [ 8]  938 	ld	a, (de)
    00000463 F8 05            [12]  939 	ldhl	sp,	#5
    00000465 86               [ 8]  940 	add	a, (hl)
    00000466 2B               [ 8]  941 	dec	hl
    00000467 2B               [ 8]  942 	dec	hl
    00000468 57               [ 4]  943 	ld	d, a
    00000469 5E               [ 8]  944 	ld	e, (hl)
    0000046A F8 0B            [12]  945 	ldhl	sp,	#11
    0000046C 7E               [ 8]  946 	ld	a, (hl)
    0000046D EAr00r00         [16]  947 	ld	(#___current_base_prop),a
    00000470 21 0B 00         [12]  948 	ld	hl, #0x000b
    00000473 09               [ 8]  949 	add	hl, bc
    00000474 7E               [ 8]  950 	ld	a, (hl)
    00000475 EAr00r00         [16]  951 	ld	(#___current_base_tile),a
    00000478 F8 0C            [12]  952 	ldhl	sp,	#12
    0000047A 2A               [ 8]  953 	ld	a, (hl+)
    0000047B 4E               [ 8]  954 	ld	c, (hl)
    0000047C F8 04            [12]  955 	ldhl	sp,	#4
    0000047E 6E               [ 8]  956 	ld	l, (hl)
                                    957 ;c:\crosszgb\gbdk\include\gb\metasprites.h:241: __current_metasprite = metasprite;
    0000047F EAr00r00         [16]  958 	ld	(___current_metasprite), a
    00000482 79               [ 4]  959 	ld	a, c
    00000483 EAr01r00         [16]  960 	ld	(___current_metasprite + 1), a
                                    961 ;c:\crosszgb\gbdk\include\gb\metasprites.h:244: return __move_metasprite_flipy(base_sprite, ((y - ((LCDC_REG & LCDCF_OBJ16) ? 16u : 8u)) << 8) | x);
    00000486 D5               [16]  962 	push	de
    00000487 F0r00            [12]  963 	ldh	a, (_LCDC_REG + 0)
    00000489 4F               [ 4]  964 	ld	c, a
    0000048A F1               [12]  965 	pop	af
    0000048B CB 51            [ 8]  966 	bit	2, c
    0000048D 28 05            [12]  967 	jr	Z, 00131$
    0000048F 01 10 00         [12]  968 	ld	bc, #0x0010
    00000492 18 03            [12]  969 	jr	00132$
    00000494                        970 00131$:
    00000494 01 08 00         [12]  971 	ld	bc, #0x0008
    00000497                        972 00132$:
    00000497 91               [ 4]  973 	sub	a, c
    00000498 57               [ 4]  974 	ld	d, a
    00000499 7D               [ 4]  975 	ld	a, l
    0000049A CDr00r00         [24]  976 	call	___move_metasprite_flipy
                                    977 ;C:/CrossZGB/ZGB/common/src/Sprite.c:111: case H_MIRROR:  next_oam_idx += move_metasprite_flipy (THIS->mt_sprite, THIS->first_tile_H,  THIS->attr_add, next_oam_idx, screen_x,                screen_y + THIS->coll_h); break;
    0000049D 21r00r00         [12]  978 	ld	hl, #_next_oam_idx
    000004A0 86               [ 8]  979 	add	a, (hl)
    000004A1 77               [ 8]  980 	ld	(hl), a
    000004A2 C3r4Fr05         [16]  981 	jp	00115$
                                    982 ;C:/CrossZGB/ZGB/common/src/Sprite.c:112: case V_MIRROR:  next_oam_idx += move_metasprite_flipx (THIS->mt_sprite, THIS->first_tile_V,  THIS->attr_add, next_oam_idx, screen_x + THIS->coll_w, screen_y               ); break;
    000004A5                        983 00112$:
    000004A5 F8 02            [12]  984 	ldhl	sp,	#2
    000004A7 7E               [ 8]  985 	ld	a, (hl)
    000004A8 F8 0D            [12]  986 	ldhl	sp,	#13
    000004AA 77               [ 8]  987 	ld	(hl), a
    000004AB F8 09            [12]  988 	ldhl	sp,#9
    000004AD 2A               [ 8]  989 	ld	a, (hl+)
    000004AE 5F               [ 4]  990 	ld	e, a
    000004AF 56               [ 8]  991 	ld	d, (hl)
    000004B0 1A               [ 8]  992 	ld	a, (de)
    000004B1 F8 06            [12]  993 	ldhl	sp,	#6
    000004B3 86               [ 8]  994 	add	a, (hl)
    000004B4 5F               [ 4]  995 	ld	e, a
    000004B5 F8 0B            [12]  996 	ldhl	sp,	#11
    000004B7 7E               [ 8]  997 	ld	a, (hl)
    000004B8 EAr00r00         [16]  998 	ld	(#___current_base_prop),a
    000004BB 21 0C 00         [12]  999 	ld	hl, #0x000c
    000004BE 09               [ 8] 1000 	add	hl, bc
    000004BF 7E               [ 8] 1001 	ld	a, (hl)
    000004C0 EAr00r00         [16] 1002 	ld	(#___current_base_tile),a
                                   1003 ;c:\crosszgb\gbdk\include\gb\metasprites.h:200: __current_metasprite = metasprite;
    000004C3 F8 0E            [12] 1004 	ldhl	sp,	#14
    000004C5 7E               [ 8] 1005 	ld	a, (hl)
    000004C6 EAr00r00         [16] 1006 	ld	(#___current_metasprite),a
    000004C9 F8 0F            [12] 1007 	ldhl	sp,	#15
    000004CB 7E               [ 8] 1008 	ld	a, (hl)
    000004CC EAr01r00         [16] 1009 	ld	(#___current_metasprite + 1),a
                                   1010 ;c:\crosszgb\gbdk\include\gb\metasprites.h:203: return __move_metasprite_flipx(base_sprite, (y << 8) | (uint8_t)(x - 8u));
    000004CF F8 0D            [12] 1011 	ldhl	sp,	#13
    000004D1 56               [ 8] 1012 	ld	d, (hl)
    000004D2 7B               [ 4] 1013 	ld	a, e
    000004D3 C6 F8            [ 8] 1014 	add	a, #0xf8
    000004D5 5F               [ 4] 1015 	ld	e, a
    000004D6 F8 04            [12] 1016 	ldhl	sp,	#4
    000004D8 7E               [ 8] 1017 	ld	a, (hl)
    000004D9 CDr00r00         [24] 1018 	call	___move_metasprite_flipx
                                   1019 ;C:/CrossZGB/ZGB/common/src/Sprite.c:112: case V_MIRROR:  next_oam_idx += move_metasprite_flipx (THIS->mt_sprite, THIS->first_tile_V,  THIS->attr_add, next_oam_idx, screen_x + THIS->coll_w, screen_y               ); break;
    000004DC 21r00r00         [12] 1020 	ld	hl, #_next_oam_idx
    000004DF 86               [ 8] 1021 	add	a, (hl)
    000004E0 77               [ 8] 1022 	ld	(hl), a
    000004E1 18 6C            [12] 1023 	jr	00115$
                                   1024 ;C:/CrossZGB/ZGB/common/src/Sprite.c:114: case HV_MIRROR: next_oam_idx += move_metasprite_flipxy(THIS->mt_sprite, THIS->first_tile_HV, THIS->attr_add, next_oam_idx, screen_x + THIS->coll_w, screen_y + THIS->coll_h); break;
    000004E3                       1025 00114$:
    000004E3 F8 07            [12] 1026 	ldhl	sp,#7
    000004E5 2A               [ 8] 1027 	ld	a, (hl+)
    000004E6 5F               [ 4] 1028 	ld	e, a
    000004E7 56               [ 8] 1029 	ld	d, (hl)
    000004E8 1A               [ 8] 1030 	ld	a, (de)
    000004E9 F8 05            [12] 1031 	ldhl	sp,	#5
    000004EB 86               [ 8] 1032 	add	a, (hl)
    000004EC F8 0F            [12] 1033 	ldhl	sp,	#15
    000004EE 77               [ 8] 1034 	ld	(hl), a
    000004EF F8 09            [12] 1035 	ldhl	sp,#9
    000004F1 2A               [ 8] 1036 	ld	a, (hl+)
    000004F2 5F               [ 4] 1037 	ld	e, a
    000004F3 56               [ 8] 1038 	ld	d, (hl)
    000004F4 1A               [ 8] 1039 	ld	a, (de)
    000004F5 F8 06            [12] 1040 	ldhl	sp,	#6
    000004F7 86               [ 8] 1041 	add	a, (hl)
    000004F8 F8 0E            [12] 1042 	ldhl	sp,	#14
    000004FA 77               [ 8] 1043 	ld	(hl), a
    000004FB F8 0B            [12] 1044 	ldhl	sp,	#11
    000004FD 7E               [ 8] 1045 	ld	a, (hl)
    000004FE EAr00r00         [16] 1046 	ld	(#___current_base_prop),a
    00000501 21 0D 00         [12] 1047 	ld	hl, #0x000d
    00000504 09               [ 8] 1048 	add	hl, bc
    00000505 7E               [ 8] 1049 	ld	a, (hl)
    00000506 EAr00r00         [16] 1050 	ld	(#___current_base_tile),a
    00000509 F8 0C            [12] 1051 	ldhl	sp,	#12
    0000050B 2A               [ 8] 1052 	ld	a, (hl+)
    0000050C 46               [ 8] 1053 	ld	b, (hl)
    0000050D F8 04            [12] 1054 	ldhl	sp,	#4
    0000050F 4E               [ 8] 1055 	ld	c, (hl)
                                   1056 ;c:\crosszgb\gbdk\include\gb\metasprites.h:281: __current_metasprite = metasprite;
    00000510 21r00r00         [12] 1057 	ld	hl, #___current_metasprite
    00000513 22               [ 8] 1058 	ld	(hl+), a
    00000514 70               [ 8] 1059 	ld	(hl), b
                                   1060 ;c:\crosszgb\gbdk\include\gb\metasprites.h:284: return __move_metasprite_flipxy(base_sprite, ((y - ((LCDC_REG & LCDCF_OBJ16) ? 16u : 8u)) << 8) | (uint8_t)(x - 8));
    00000515 F8 0F            [12] 1061 	ldhl	sp,	#15
    00000517 46               [ 8] 1062 	ld	b, (hl)
    00000518 F0r00            [12] 1063 	ldh	a, (_LCDC_REG + 0)
    0000051A CB 57            [ 8] 1064 	bit	2, a
    0000051C 28 09            [12] 1065 	jr	Z, 00133$
    0000051E F8 0A            [12] 1066 	ldhl	sp,	#10
    00000520 3E 10            [ 8] 1067 	ld	a, #0x10
    00000522 22               [ 8] 1068 	ld	(hl+), a
    00000523 AF               [ 4] 1069 	xor	a, a
    00000524 77               [ 8] 1070 	ld	(hl), a
    00000525 18 07            [12] 1071 	jr	00134$
    00000527                       1072 00133$:
    00000527 F8 0A            [12] 1073 	ldhl	sp,	#10
    00000529 3E 08            [ 8] 1074 	ld	a, #0x08
    0000052B 22               [ 8] 1075 	ld	(hl+), a
    0000052C AF               [ 4] 1076 	xor	a, a
    0000052D 77               [ 8] 1077 	ld	(hl), a
    0000052E                       1078 00134$:
    0000052E 58               [ 4] 1079 	ld	e, b
    0000052F 16 00            [ 8] 1080 	ld	d, #0x00
    00000531 F8 0A            [12] 1081 	ldhl	sp,	#10
    00000533 2A               [ 8] 1082 	ld	a,	(hl+)
    00000534 66               [ 8] 1083 	ld	h, (hl)
    00000535 6F               [ 4] 1084 	ld	l, a
    00000536 7B               [ 4] 1085 	ld	a, e
    00000537 95               [ 4] 1086 	sub	a, l
    00000538 5F               [ 4] 1087 	ld	e, a
    00000539 7A               [ 4] 1088 	ld	a, d
    0000053A 9C               [ 4] 1089 	sbc	a, h
    0000053B F8 0D            [12] 1090 	ldhl	sp,	#13
    0000053D 32               [ 8] 1091 	ld	(hl-), a
    0000053E 73               [ 8] 1092 	ld	(hl), e
    0000053F 2A               [ 8] 1093 	ld	a, (hl+)
    00000540 23               [ 8] 1094 	inc	hl
    00000541 57               [ 4] 1095 	ld	d, a
    00000542 7E               [ 8] 1096 	ld	a, (hl)
    00000543 C6 F8            [ 8] 1097 	add	a, #0xf8
    00000545 5F               [ 4] 1098 	ld	e, a
    00000546 79               [ 4] 1099 	ld	a, c
    00000547 CDr00r00         [24] 1100 	call	___move_metasprite_flipxy
                                   1101 ;C:/CrossZGB/ZGB/common/src/Sprite.c:114: case HV_MIRROR: next_oam_idx += move_metasprite_flipxy(THIS->mt_sprite, THIS->first_tile_HV, THIS->attr_add, next_oam_idx, screen_x + THIS->coll_w, screen_y + THIS->coll_h); break;
    0000054A 21r00r00         [12] 1102 	ld	hl, #_next_oam_idx
    0000054D 86               [ 8] 1103 	add	a, (hl)
    0000054E 77               [ 8] 1104 	ld	(hl), a
                                   1105 ;C:/CrossZGB/ZGB/common/src/Sprite.c:115: }
    0000054F                       1106 00115$:
                                   1107 ;C:/CrossZGB/ZGB/common/src/Sprite.c:116: SWITCH_ROM(__save);
    0000054F F8 00            [12] 1108 	ldhl	sp,	#0
    00000551 7E               [ 8] 1109 	ld	a, (hl)
    00000552 E0r00            [12] 1110 	ldh	(__current_bank + 0), a
    00000554 7E               [ 8] 1111 	ld	a, (hl)
    00000555 EAr00r00         [16] 1112 	ld	(#_rROMB0),a
    00000558 18 77            [12] 1113 	jr	00129$
    0000055A                       1114 00121$:
                                   1115 ;C:/CrossZGB/ZGB/common/src/Sprite.c:120: (!(THIS->persistent)) && 
    0000055A 21 21 00         [12] 1116 	ld	hl, #0x0021
    0000055D 09               [ 8] 1117 	add	hl, bc
    0000055E 7E               [ 8] 1118 	ld	a, (hl)
    0000055F 0F               [ 4] 1119 	rrca
    00000560 E6 01            [ 8] 1120 	and	a, #0x01
    00000562 20 6D            [12] 1121 	jr	NZ, 00129$
                                   1122 ;C:/CrossZGB/ZGB/common/src/Sprite.c:122: ((UINT16)(screen_x + THIS->lim_x + 16u) > (UINT16)((THIS->lim_x << 1) + (DEVICE_SCREEN_PX_WIDTH + (16u << 1)))) || 
    00000564 21 19 00         [12] 1123 	ld	hl, #0x0019
    00000567 09               [ 8] 1124 	add	hl, bc
    00000568 5D               [ 4] 1125 	ld	e, l
    00000569 54               [ 4] 1126 	ld	d, h
    0000056A 1A               [ 8] 1127 	ld	a, (de)
    0000056B F8 0C            [12] 1128 	ldhl	sp,	#12
    0000056D 22               [ 8] 1129 	ld	(hl+), a
    0000056E 13               [ 8] 1130 	inc	de
    0000056F 1A               [ 8] 1131 	ld	a, (de)
    00000570 77               [ 8] 1132 	ld	(hl), a
    00000571 F8 0C            [12] 1133 	ldhl	sp,#12
    00000573 2A               [ 8] 1134 	ld	a, (hl+)
    00000574 5F               [ 4] 1135 	ld	e, a
    00000575 56               [ 8] 1136 	ld	d, (hl)
    00000576 21r00r00         [12] 1137 	ld	hl, #_DrawSprite_screen_x_10000_284
    00000579 2A               [ 8] 1138 	ld	a,	(hl+)
    0000057A 66               [ 8] 1139 	ld	h, (hl)
    0000057B 6F               [ 4] 1140 	ld	l, a
    0000057C 19               [ 8] 1141 	add	hl, de
    0000057D 5D               [ 4] 1142 	ld	e, l
    0000057E 54               [ 4] 1143 	ld	d, h
    0000057F 21 10 00         [12] 1144 	ld	hl, #0x0010
    00000582 19               [ 8] 1145 	add	hl, de
    00000583 E5               [16] 1146 	push	hl
    00000584 7D               [ 4] 1147 	ld	a, l
    00000585 F8 10            [12] 1148 	ldhl	sp,	#16
    00000587 77               [ 8] 1149 	ld	(hl), a
    00000588 E1               [12] 1150 	pop	hl
    00000589 7C               [ 4] 1151 	ld	a, h
    0000058A F8 0F            [12] 1152 	ldhl	sp,	#15
    0000058C 77               [ 8] 1153 	ld	(hl), a
    0000058D F8 0C            [12] 1154 	ldhl	sp,	#12
    0000058F 2A               [ 8] 1155 	ld	a, (hl+)
    00000590 5E               [ 8] 1156 	ld	e, (hl)
    00000591 87               [ 4] 1157 	add	a, a
    00000592 CB 13            [ 8] 1158 	rl	e
    00000594 C6 C0            [ 8] 1159 	add	a, #0xc0
    00000596 57               [ 4] 1160 	ld	d, a
    00000597 30 01            [12] 1161 	jr	NC, 00227$
    00000599 1C               [ 4] 1162 	inc	e
    0000059A                       1163 00227$:
    0000059A 23               [ 8] 1164 	inc	hl
    0000059B 7A               [ 4] 1165 	ld	a, d
    0000059C 96               [ 8] 1166 	sub	a, (hl)
    0000059D 23               [ 8] 1167 	inc	hl
    0000059E 7B               [ 4] 1168 	ld	a, e
    0000059F 9E               [ 8] 1169 	sbc	a, (hl)
    000005A0 38 24            [12] 1170 	jr	C, 00116$
                                   1171 ;C:/CrossZGB/ZGB/common/src/Sprite.c:123: ((UINT16)(screen_y + THIS->lim_y + 16u) > (UINT16)((THIS->lim_y << 1) + (DEVICE_SCREEN_PX_HEIGHT + (16u << 1))))
    000005A2 21 1B 00         [12] 1172 	ld	hl, #0x001b
    000005A5 09               [ 8] 1173 	add	hl, bc
    000005A6 2A               [ 8] 1174 	ld	a, (hl+)
    000005A7 4F               [ 4] 1175 	ld	c, a
    000005A8 46               [ 8] 1176 	ld	b, (hl)
    000005A9 79               [ 4] 1177 	ld	a, c
    000005AA 21r02r00         [12] 1178 	ld	hl, #_DrawSprite_screen_y_10000_284
    000005AD 86               [ 8] 1179 	add	a, (hl)
    000005AE 23               [ 8] 1180 	inc	hl
    000005AF 5F               [ 4] 1181 	ld	e, a
    000005B0 78               [ 4] 1182 	ld	a, b
    000005B1 8E               [ 8] 1183 	adc	a, (hl)
    000005B2 57               [ 4] 1184 	ld	d, a
    000005B3 21 10 00         [12] 1185 	ld	hl, #0x0010
    000005B6 19               [ 8] 1186 	add	hl, de
    000005B7 5D               [ 4] 1187 	ld	e, l
    000005B8 54               [ 4] 1188 	ld	d, h
    000005B9 69               [ 4] 1189 	ld	l, c
    000005BA 60               [ 4] 1190 	ld	h, b
    000005BB 29               [ 8] 1191 	add	hl, hl
    000005BC 01 B0 00         [12] 1192 	ld	bc, #0x00b0
    000005BF 09               [ 8] 1193 	add	hl, bc
    000005C0 7D               [ 4] 1194 	ld	a, l
    000005C1 93               [ 4] 1195 	sub	a, e
    000005C2 7C               [ 4] 1196 	ld	a, h
    000005C3 9A               [ 4] 1197 	sbc	a, d
    000005C4 30 0B            [12] 1198 	jr	NC, 00129$
    000005C6                       1199 00116$:
                                   1200 ;C:/CrossZGB/ZGB/common/src/Sprite.c:126: return SpriteManagerRemoveSprite(THIS);
    000005C6 FAr00r00         [16] 1201 	ld	a, (_THIS)
    000005C9 5F               [ 4] 1202 	ld	e, a
    000005CA 21r01r00         [12] 1203 	ld	hl, #_THIS + 1
    000005CD 56               [ 8] 1204 	ld	d, (hl)
    000005CE CDr00r00         [24] 1205 	call	_SpriteManagerRemoveSprite
    000005D1                       1206 00129$:
                                   1207 ;C:/CrossZGB/ZGB/common/src/Sprite.c:130: }
    000005D1 E8 10            [16] 1208 	add	sp, #16
    000005D3 C9               [16] 1209 	ret
                                   1210 ;C:/CrossZGB/ZGB/common/src/Sprite.c:132: UINT8 CheckCollision(Sprite* sprite1, Sprite* sprite2) {
                                   1211 ;	---------------------------------
                                   1212 ; Function CheckCollision
                                   1213 ; ---------------------------------
    000005D4                       1214 _CheckCollision::
    000005D4 E8 F8            [16] 1215 	add	sp, #-8
    000005D6 F8 06            [12] 1216 	ldhl	sp,	#6
    000005D8 7B               [ 4] 1217 	ld	a, e
    000005D9 22               [ 8] 1218 	ld	(hl+), a
    000005DA 72               [ 8] 1219 	ld	(hl), d
    000005DB F8 04            [12] 1220 	ldhl	sp,	#4
    000005DD 79               [ 4] 1221 	ld	a, c
    000005DE 22               [ 8] 1222 	ld	(hl+), a
                                   1223 ;C:/CrossZGB/ZGB/common/src/Sprite.c:133: if ((sprite1->x + sprite1->coll_w) < sprite2->x) return 0;
    000005DF 78               [ 4] 1224 	ld	a, b
    000005E0 22               [ 8] 1225 	ld	(hl+), a
    000005E1 2A               [ 8] 1226 	ld	a, (hl+)
    000005E2 5F               [ 4] 1227 	ld	e, a
    000005E3 56               [ 8] 1228 	ld	d, (hl)
    000005E4 1A               [ 8] 1229 	ld	a, (de)
    000005E5 F8 00            [12] 1230 	ldhl	sp,	#0
    000005E7 22               [ 8] 1231 	ld	(hl+), a
    000005E8 13               [ 8] 1232 	inc	de
    000005E9 1A               [ 8] 1233 	ld	a, (de)
    000005EA 77               [ 8] 1234 	ld	(hl), a
    000005EB F8 06            [12] 1235 	ldhl	sp,#6
    000005ED 2A               [ 8] 1236 	ld	a, (hl+)
    000005EE 5F               [ 4] 1237 	ld	e, a
    000005EF 56               [ 8] 1238 	ld	d, (hl)
    000005F0 21 04 00         [12] 1239 	ld	hl, #0x0004
    000005F3 19               [ 8] 1240 	add	hl, de
    000005F4 4D               [ 4] 1241 	ld	c, l
    000005F5 44               [ 4] 1242 	ld	b, h
    000005F6 0A               [ 8] 1243 	ld	a, (bc)
    000005F7 16 00            [ 8] 1244 	ld	d, #0x00
    000005F9 5F               [ 4] 1245 	ld	e, a
    000005FA E1               [12] 1246 	pop	hl
    000005FB E5               [16] 1247 	push	hl
    000005FC 19               [ 8] 1248 	add	hl, de
    000005FD 4D               [ 4] 1249 	ld	c, l
    000005FE 44               [ 4] 1250 	ld	b, h
    000005FF F8 04            [12] 1251 	ldhl	sp,#4
    00000601 2A               [ 8] 1252 	ld	a, (hl+)
    00000602 5F               [ 4] 1253 	ld	e, a
    00000603 56               [ 8] 1254 	ld	d, (hl)
    00000604 1A               [ 8] 1255 	ld	a, (de)
    00000605 F8 02            [12] 1256 	ldhl	sp,	#2
    00000607 22               [ 8] 1257 	ld	(hl+), a
    00000608 13               [ 8] 1258 	inc	de
    00000609 1A               [ 8] 1259 	ld	a, (de)
    0000060A 32               [ 8] 1260 	ld	(hl-), a
    0000060B 79               [ 4] 1261 	ld	a, c
    0000060C 96               [ 8] 1262 	sub	a, (hl)
    0000060D 23               [ 8] 1263 	inc	hl
    0000060E 78               [ 4] 1264 	ld	a, b
    0000060F 9E               [ 8] 1265 	sbc	a, (hl)
    00000610 30 04            [12] 1266 	jr	NC, 00102$
    00000612 AF               [ 4] 1267 	xor	a, a
    00000613 C3r98r06         [16] 1268 	jp	00109$
    00000616                       1269 00102$:
                                   1270 ;C:/CrossZGB/ZGB/common/src/Sprite.c:134: if ((sprite2->x + sprite2->coll_w) < sprite1->x) return 0;
    00000616 F8 04            [12] 1271 	ldhl	sp,#4
    00000618 2A               [ 8] 1272 	ld	a, (hl+)
    00000619 5F               [ 4] 1273 	ld	e, a
    0000061A 56               [ 8] 1274 	ld	d, (hl)
    0000061B 21 04 00         [12] 1275 	ld	hl, #0x0004
    0000061E 19               [ 8] 1276 	add	hl, de
    0000061F 4D               [ 4] 1277 	ld	c, l
    00000620 44               [ 4] 1278 	ld	b, h
    00000621 0A               [ 8] 1279 	ld	a, (bc)
    00000622 16 00            [ 8] 1280 	ld	d, #0x00
    00000624 5F               [ 4] 1281 	ld	e, a
    00000625 F8 02            [12] 1282 	ldhl	sp,	#2
    00000627 2A               [ 8] 1283 	ld	a,	(hl+)
    00000628 66               [ 8] 1284 	ld	h, (hl)
    00000629 6F               [ 4] 1285 	ld	l, a
    0000062A 19               [ 8] 1286 	add	hl, de
    0000062B 4D               [ 4] 1287 	ld	c, l
    0000062C 44               [ 4] 1288 	ld	b, h
    0000062D F8 00            [12] 1289 	ldhl	sp,	#0
    0000062F 79               [ 4] 1290 	ld	a, c
    00000630 96               [ 8] 1291 	sub	a, (hl)
    00000631 23               [ 8] 1292 	inc	hl
    00000632 78               [ 4] 1293 	ld	a, b
    00000633 9E               [ 8] 1294 	sbc	a, (hl)
    00000634 30 03            [12] 1295 	jr	NC, 00104$
    00000636 AF               [ 4] 1296 	xor	a, a
    00000637 18 5F            [12] 1297 	jr	00109$
    00000639                       1298 00104$:
                                   1299 ;C:/CrossZGB/ZGB/common/src/Sprite.c:135: if ((sprite1->y + sprite1->coll_h) < sprite2->y) return 0;
    00000639 F8 06            [12] 1300 	ldhl	sp,	#6
    0000063B 2A               [ 8] 1301 	ld	a, (hl+)
    0000063C 4F               [ 4] 1302 	ld	c, a
    0000063D 46               [ 8] 1303 	ld	b, (hl)
    0000063E 03               [ 8] 1304 	inc	bc
    0000063F 03               [ 8] 1305 	inc	bc
    00000640 59               [ 4] 1306 	ld	e, c
    00000641 50               [ 4] 1307 	ld	d, b
    00000642 1A               [ 8] 1308 	ld	a, (de)
    00000643 F8 00            [12] 1309 	ldhl	sp,	#0
    00000645 22               [ 8] 1310 	ld	(hl+), a
    00000646 13               [ 8] 1311 	inc	de
    00000647 1A               [ 8] 1312 	ld	a, (de)
    00000648 77               [ 8] 1313 	ld	(hl), a
    00000649 F8 06            [12] 1314 	ldhl	sp,#6
    0000064B 2A               [ 8] 1315 	ld	a, (hl+)
    0000064C 5F               [ 4] 1316 	ld	e, a
    0000064D 56               [ 8] 1317 	ld	d, (hl)
    0000064E 21 05 00         [12] 1318 	ld	hl, #0x0005
    00000651 19               [ 8] 1319 	add	hl, de
    00000652 4D               [ 4] 1320 	ld	c, l
    00000653 44               [ 4] 1321 	ld	b, h
    00000654 0A               [ 8] 1322 	ld	a, (bc)
    00000655 16 00            [ 8] 1323 	ld	d, #0x00
    00000657 5F               [ 4] 1324 	ld	e, a
    00000658 E1               [12] 1325 	pop	hl
    00000659 E5               [16] 1326 	push	hl
    0000065A 19               [ 8] 1327 	add	hl, de
    0000065B E5               [16] 1328 	push	hl
    0000065C 7D               [ 4] 1329 	ld	a, l
    0000065D F8 04            [12] 1330 	ldhl	sp,	#4
    0000065F 77               [ 8] 1331 	ld	(hl), a
    00000660 E1               [12] 1332 	pop	hl
    00000661 7C               [ 4] 1333 	ld	a, h
    00000662 F8 03            [12] 1334 	ldhl	sp,	#3
    00000664 22               [ 8] 1335 	ld	(hl+), a
    00000665 2A               [ 8] 1336 	ld	a, (hl+)
    00000666 66               [ 8] 1337 	ld	h, (hl)
    00000667 6F               [ 4] 1338 	ld	l, a
    00000668 23               [ 8] 1339 	inc	hl
    00000669 23               [ 8] 1340 	inc	hl
    0000066A 2A               [ 8] 1341 	ld	a, (hl+)
    0000066B 4F               [ 4] 1342 	ld	c, a
    0000066C 46               [ 8] 1343 	ld	b, (hl)
    0000066D F8 02            [12] 1344 	ldhl	sp,	#2
    0000066F 2A               [ 8] 1345 	ld	a, (hl+)
    00000670 91               [ 4] 1346 	sub	a, c
    00000671 7E               [ 8] 1347 	ld	a, (hl)
    00000672 98               [ 4] 1348 	sbc	a, b
    00000673 30 03            [12] 1349 	jr	NC, 00106$
    00000675 AF               [ 4] 1350 	xor	a, a
    00000676 18 20            [12] 1351 	jr	00109$
    00000678                       1352 00106$:
                                   1353 ;C:/CrossZGB/ZGB/common/src/Sprite.c:136: if ((sprite2->y + sprite2->coll_h) < sprite1->y) return 0;
    00000678 F8 04            [12] 1354 	ldhl	sp,#4
    0000067A 2A               [ 8] 1355 	ld	a, (hl+)
    0000067B 5F               [ 4] 1356 	ld	e, a
    0000067C 56               [ 8] 1357 	ld	d, (hl)
    0000067D 21 05 00         [12] 1358 	ld	hl, #0x0005
    00000680 19               [ 8] 1359 	add	hl, de
    00000681 5D               [ 4] 1360 	ld	e, l
    00000682 54               [ 4] 1361 	ld	d, h
    00000683 1A               [ 8] 1362 	ld	a, (de)
    00000684 6F               [ 4] 1363 	ld	l, a
    00000685 26 00            [ 8] 1364 	ld	h, #0x00
    00000687 09               [ 8] 1365 	add	hl, bc
    00000688 4D               [ 4] 1366 	ld	c, l
    00000689 44               [ 4] 1367 	ld	b, h
    0000068A F8 00            [12] 1368 	ldhl	sp,	#0
    0000068C 79               [ 4] 1369 	ld	a, c
    0000068D 96               [ 8] 1370 	sub	a, (hl)
    0000068E 23               [ 8] 1371 	inc	hl
    0000068F 78               [ 4] 1372 	ld	a, b
    00000690 9E               [ 8] 1373 	sbc	a, (hl)
    00000691 30 03            [12] 1374 	jr	NC, 00108$
    00000693 AF               [ 4] 1375 	xor	a, a
    00000694 18 02            [12] 1376 	jr	00109$
    00000696                       1377 00108$:
                                   1378 ;C:/CrossZGB/ZGB/common/src/Sprite.c:137: return 1;
    00000696 3E 01            [ 8] 1379 	ld	a, #0x01
    00000698                       1380 00109$:
                                   1381 ;C:/CrossZGB/ZGB/common/src/Sprite.c:138: }
    00000698 E8 08            [16] 1382 	add	sp, #8
    0000069A C9               [16] 1383 	ret
                                   1384 	.area _CODE
                                   1385 	.area _INITIALIZER
                                   1386 	.area _CABS (ABS)
